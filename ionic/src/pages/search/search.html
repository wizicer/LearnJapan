<ion-header>
  <ion-navbar>
    <ion-title>搜索</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-searchbar (ionInput)="getItems($event)" placeholder="搜索单词和语法"></ion-searchbar>
  <ion-list>
    <ion-item-group *ngIf="currentItems.words.length > 0">
      <ion-item-divider color="light">单词</ion-item-divider>
      <button ion-item (click)="openItem(word)" *ngFor="let word of currentItems.words">
        <h2>
          <span [innerHTML]="word.kana | japanruby"></span>
          [{{word.pos}}]
        </h2>
        <p [innerHTML]="word.desc | japanruby"></p>
        <p item-right [innerHTML]="word.word | japanruby"></p>
      </button>
      <button ion-item (click)="moreWords()" *ngIf="wordsShowMore">查看更多</button>
    </ion-item-group>
    <ion-item-group *ngIf="currentItems.grammar.length > 0">
      <ion-item-divider color="light">语法</ion-item-divider>
      <button ion-item (click)="openItem(g)" *ngFor="let g of currentItems.grammar">
        <h2 [innerHTML]="g.expression"></h2>
        <p [innerHTML]="g.explanation" class="line-break"></p>
        <p item-right [innerHTML]="g.shortexplain"></p>
      </button>
      <button ion-item (click)="moreGrammar()" *ngIf="grammarShowMore">查看更多</button>
    </ion-item-group>
  </ion-list>
</ion-content>
